    <!DOCTYPE html>
    <html lang="en">

    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link href="https://fonts.googleapis.com/css2?family=Lobster&family=Roboto&display=swap" rel="stylesheet">
        <title>Birthday Celebration</title>
        <link rel="icon" href="trikalogo.png">
        <script src="https://cdn.jsdelivr.net/npm/html2canvas@1.4.1/dist/html2canvas.min.js"></script>


        <style>
            * {
                padding: 0;
                margin: 0;
                box-sizing: border-box;

            }

            body {
                font-family: 'Roboto', sans-serif;
                display: flex;
                justify-content: center;
                /* align-items: center; */
                height: 100vh;
                background-color: #f4f4f4;

            }

            .outer-border {
                position: relative;
                width: 800px;
                padding: 20px;
                border: 1px solid black;
                background: white;
                min-height: 600px;  
                overflow: visible;
            }

            .top-right-logo {
                position: absolute;
                top: 10px;
                right: 10px;
                height: 50px;
            }

            .yellowdots {
                position: absolute;
                top: 100px;
                right: 0;
                height: 150px;
                width: 100px;
            }

            .red-patten {
                position: absolute;
                top: 40px;
                left: 0;
                height: 300px;
            }

            .yellowdown {
                position: absolute;
                bottom: 0;
                left: 20px;
                height: 50px;
            }

            .greypattern {
                position: absolute;
                bottom: 0;
                right: -1px;
                height: 70px;
            }

            .styled-heading {
                text-align: center;
                font-family: 'Lobster', cursive;
                font-size: 2rem;
                color: red;
                margin-bottom: 10px;
                margin-top: 4rem;
                white-space: pre-wrap;
                /* Allows heading text to split into multiple lines */
            }

            .wishingquote {
                text-align: center;
                margin-bottom: 20px;
                font-size: 1.2rem;
                color: #333;
                white-space: pre-wrap;
                /* Allows text splitting into multiple lines */
            }

            .profiles-container {
                display: flex;
                flex-wrap: wrap;
                justify-content: center;
                gap: 20px;
                margin-top: 20px;
            }

            .profile {
                display: flex;
                flex-direction: column;
                align-items: center;
                text-align: center;
                transition: transform 0.3s ease;
            }

            .framee {
                width: 120px;
                height: 150px;
                border: 2px solid orange;
                border-radius: 15px;
                overflow: hidden;
                margin-bottom: 10px;
            }

            .framee img {
                width: 100%;
                height: 100%;
                object-fit: cover;
            }

            .emp-name {
                font-size: 1rem;
                font-weight: bold;
            }

            .emp-title {
                font-size: 0.9rem;
                color: #555;
            }



            .profiles-container.two-profiles {
                display: flex;
                justify-content: center;
                align-items: center;
                transform: scale(1.5);
                /* Increase the scale to 1.5 to make profiles larger */
                margin-top: 80px;
                /* Adjust the top margin if needed */
            }

            .profiles-container.three-profiles {
                display: flex;
                justify-content: center;
                align-items: center;
                margin-top: 70px;
                /* Adjust the margin for spacing */
            }

            .profiles-container.two-profiles .profile {
                flex: none;
                /* Ensure profiles do not stretch */
                width: 180px;
                /* Set a fixed width */
                height: 240px;
                /* Set a fixed height */
                margin-bottom: 20px;
                /* Adjust the margin */
            }

            .profiles-container.two-profiles,
            /* .profiles-container.three-profiles, */
            .profiles-container.four-profiles {
                /* Existing styles */
                display: flex;
                /* justify-content: center; */
                width: 500px;
                margin-left: 20%;
            }

            /* Center one profile */
            .profiles-container.single-profile .profile {
                display: flex;
                justify-content: center;
                align-items: center;
                transform: scale(1.8);
                margin-top: 40px;
                height: 100%;
                /* Ensure the container takes full height */
                margin-left: 160px;


            }

            .profiles-container.two-profiles .profile {
                display: flex;
                justify-content: center;
                align-items: center;
                transform: scale(1.8);
                margin-top: 80px;
                height: 100%;
                /* Ensure the container takes full height */


            }

            .profiles-container.two-profiles .profile {
                display: flex;
                justify-content: center;
                align-items: center;
                transform: scale(1.8);
                margin-top: 80px;
                height: 100%;
                /* Ensure the container takes full height */


            }

            .profiles-container.three-profiles .profile {
                flex: 1 1 30%;
                margin-top: 60px;
                transform: scale(1.3);
                margin-bottom: 15px;

            }

            .profiles-container.six-profiles {
                display: grid;
                grid-template-columns: repeat(3, 1fr);
                gap: 10px;
            }

            /* Adjust size and position for four profiles */
            .profiles-container.four-profiles {
                display: grid;
                grid-template-columns: repeat(2, 1fr);
                gap: 0px;
                transform: scale(1.3);
                margin-top: 40px;
            }

            .profiles-container.two-profiles {
                display: flex;
                justify-content: center;
                gap: 30px;
                transform: scale(1.5);
                margin-top: 80px;

            }

            .profile {
                flex: none;
                /* Prevent profiles from stretching */
            }

            /* Adjust heading and quote for less than four profiles */
            .profiles-container.single-profile~.styled-heading,
            .profiles-container.two-profiles~.styled-heading,
            .profiles-container.three-profiles~.styled-heading {
                white-space: pre-wrap;
                line-height: 1.5;
                margin-top: 20px;
            }

            .profiles-container.single-profile~.styled-heading::after,
            .profiles-container.two-profiles~.styled-heading::after,
            .profiles-container.three-profiles~.styled-heading::after {
                content: "in November";
                display: block;
            }

            .profiles-container.single-profile~.wishingquote,
            .profiles-container.two-profiles~.wishingquote,
            .profiles-container.three-profiles~.wishingquote {
                white-space: pre-wrap;
                line-height: 1.5;
                margin-top: 10px;
            }

            .profiles-container.single-profile~.wishingquote::after,
            .profiles-container.two-profiles~.wishingquote::after,
            .profiles-container.three-profiles~.wishingquote::after {
                content: "and happiness forever.";
                display: block;
            }

            .outer-border.adjust-for-four {
                min-height: 700px;
                /* Increase the height for better spacing */
                padding-top: 30px;
                /* Add padding to push the profiles downward */
            }

            .profiles-container.four-profiles {
                transform: none;
                /* Remove scaling */
                margin-top: 50px;
                /* Add more top margin for centering */
            }

            .profiles-container.four-profiles .profile {
                flex: 1 1 45%;
                /* Adjust the size for better alignment */
            }

            /* Responsive adjustments for four profiles */
            @media (max-width: 768px) {
                .outer-border.adjust-for-four {
                    min-height: 800px;
                    /* Further increase height on smaller screens */
                }

                .profiles-container.four-profiles {
                    grid-template-columns: repeat(1, 1fr);
                    /* Stack profiles vertically */
                }
            }

            .profilee {
                transform: scale(1.5);
                padding: 30px;
            }

        
            .download-btn {
            top: 10px; /* Adjust the vertical position */
            right: 20px; /* Place it slightly outside the container */
            padding: 10px 20px;
            font-size: 1rem;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            margin-left: 75%;
            margin-bottom: 5px;
        }

        .download-btn:hover {
            background-color: #45a049;
        }

        /* Ensure the body has relative positioning to align absolute elements */
        body {
            position: relative;
        }
        .veryoutborder{
            padding-top: 20px;
            
        }
        </style>
        <script>
            document.addEventListener("DOMContentLoaded", function () {
                const storedPerson = JSON.parse(localStorage.getItem("birthdayPerson"));

                if (storedPerson) {
                    const profilesContainer = document.getElementById('profiles-container');

                    const profileDiv = document.createElement('div');
                    profileDiv.classList.add('profile');

                    profileDiv.innerHTML = `
                            <div class="framee">
                                <img src="${storedPerson.image}" alt="${storedPerson.name}">
                            </div>
                            <div class="emp-name">${storedPerson.name}</div>
                            <div class="emp-title">${storedPerson.title}</div>
                        `;

                    profilesContainer.appendChild(profileDiv);

                    // Adjust the layout based on the number of profiles
                    profilesContainer.classList.add('single-profile');
                }
            });

        </script>

    </head>

    <body>
        <a href="/multi form.html" style="
        position: absolute; 
        top: 20px; 
        right: 440px; 
        background-color: #0066cc; 
        color: white; 
        padding: 10px 20px; 
        text-decoration: none; 
        border-radius: 5px; 
        font-family: 'Roboto', sans-serif;
        font-size: 14px;
        border: none;
        cursor: pointer;">
        Add More
    </a>
        <div  class="veryoutborder">
        <button id="download-btn" class="download-btn">Download as Image</button>

        <div class="outer-border">

            <!-- Static Images -->
            <img class="top-right-logo" src="trikalogo.png" alt="Logo">
            <img class="yellowdots" src="yellow-dotes.png" alt="Yellow Dots">
            <img class="red-patten" src="red pattern.png" alt="Red Pattern">
            <img class="yellowdown" src="yellowdown.png" alt="Yellow Down">
            <img class="greypattern" src="greypattern.png" alt="Grey Pattern">

            <!-- Heading and Quote -->
            <div class="styled-heading">Celebrating Birthdays in November</div>
            <div class="wishingquote">“We Wish you a beautiful day with good health and happiness forever.”</div>

            <!-- Profiles Container -->
            <div id="profiles-container" class="profiles-container"></div>
        </div>
    </div>

        <script>

            const profilesContainer = document.getElementById('profiles-container');
            const storedProfiles = JSON.parse(localStorage.getItem('profiles')) || [];
            storedProfiles.forEach(({ month, profiles }) => {
                const styledHeading = document.querySelector('.styled-heading');
                styledHeading.innerHTML = `Celebrating Birthdays<br>in ${month}`;

                profiles.forEach(profile => {
                    const profileDiv = document.createElement('div');
                    profileDiv.classList.add('profile');


                    profileDiv.innerHTML = `
                        <div class="framee">
                            <img src="${profile.image}" alt="${profile.name}">
                        </div>
                        <div class="emp-name">${profile.name}</div>
                        <div class="emp-title">${profile.title}</div>
                    `;
                    profilesContainer.appendChild(profileDiv);
                });
            });
            const totalProfiles = storedProfiles.reduce((count, item) => count + item.profiles.length, 0);

            if (totalProfiles === 1) {
                profilesContainer.classList.add('single-profile');
            } else if (totalProfiles === 2) {
                profilesContainer.classList.add('two-profiles');
            } else if (totalProfiles === 3) {
                profilesContainer.classList.add('three-profiles');
                profilesContainer.style.display = 'flex'; // Reset grid to flex for three profiles

            } else if (totalProfiles === 4) {
                profilesContainer.classList.add('four-profiles');
                profilesContainer.classList.add('profiles');
                document.querySelector('.profiles').classList.add('profilee'); // Add class to adjust layout for four profiles


                document.querySelector('.outer-border').classList.add('adjust-for-four'); // Add class to adjust layout for four profiles
            } else if (totalProfiles >= 5) {
                profilesContainer.classList.add('six-profiles');
            }

            // Split headings and quotes dynamically
            const styledHeading = document.querySelector('.styled-heading');
            const wishingQuote = document.querySelector('.wishingquote');

            if (totalProfiles < 4) {
                // Adjust the styled heading
                styledHeading.innerHTML = `Celebrating Birthdays<br>in November`;

                // Adjust the wishing quote
                wishingQuote.innerHTML = `“We Wish you a beautiful day with good health<br>and happiness forever.”`;
                profilesContainer.classList.add('four-profiles');
                document.querySelector('.outer-border').classList.add('adjust-for-four');
            }
            const downloadBtn = document.getElementById('download-btn');
            downloadBtn.addEventListener('click', function () {
                html2canvas(document.querySelector('.outer-border')).then(function (canvas) {
                    const link = document.createElement('a');
                    link.href = canvas.toDataURL();
                    link.download = 'birthday_celebration.png';
                    link.click();
                });
            });
        </script>
    </body>

    </html>